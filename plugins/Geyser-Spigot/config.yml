# --------------------------------
# Geyser 配置文件
# 
# Minecraft: Bedrock Edition 和 Minecraft: Java Edition 之间的桥梁。
# 
# GitHub: https://github.com/GeyserMC/Geyser
# Discord: https://discord.gg/geysermc
# Wiki: https://geysermc.org/wiki
# 
# 注意：请查看 https://geysermc.org/wiki/geyser/setup/ 获取安装指南。许多视频教程已过时。
# 在大多数情况下，特别是使用服务器托管服务时，需要进一步进行特定于托管的配置。
# --------------------------------

# Bedrock 监听器的网络设置
bedrock:
  # Geyser 将绑定以监听传入的 Bedrock 连接的 IP 地址。
  # 通常，只有在想要限制可以连接到服务器的 IP 时才需要更改此设置。
  address: 0.0.0.0

  # Geyser 将监听传入的 Bedrock 连接的端口。
  # 由于 Minecraft: Bedrock Edition 使用 UDP，此端口必须允许 UDP 流量。
  port: 19132

  # 某些托管服务每次启动服务器时都会更改您的 Java 端口，并要求对 Bedrock 使用相同的端口。
  # 此选项使 Bedrock 端口在每次启动服务器时与 Java 端口相同。
  clone-remote-port: true

# Java 服务器连接的网络设置
java:
  # 当 Bedrock 玩家登录 Java 服务器时，将根据何种身份验证类型进行检查。
  # 可以是 "floodgate" (参见 https://wiki.geysermc.org/floodgate/), "online" 或 "offline"。
  auth-type: floodgate

# MOTD 设置
motd:
  # 将向 Minecraft: Bedrock Edition 客户端广播的 MOTD。如果 "passthrough-motd" 设置为 true，则此项无关紧要。
  # 如果其中任何一个为空，相应的字符串将默认为 "Geyser"
  primary-motd: Geyser
  secondary-motd: Another Geyser server.

  # Geyser 是否应将 Java 服务器的 MOTD 中继给 Bedrock 玩家。
  passthrough-motd: true

  # 可以连接的最大玩家数。
  # 这仅是视觉上的，并且仅在 passthrough-motd 禁用时应用。
  max-players: 100

  # 是否将玩家数量和最大玩家数从 Java 服务器中继给 Bedrock 玩家。
  passthrough-player-counts: true

  # 是否使用服务器 API 方法来确定 Java 服务器的 MOTD 和 ping 穿透。
  # 除非您的 MOTD 或玩家计数未正确显示，否则无需禁用此功能。
  integrated-ping-passthrough: true

  # 刷新 MOTD 和玩家计数时 ping Java 服务器的频率，以秒为单位。
  # 仅在 integrated-ping-passthrough 禁用时相关。
  ping-passthrough-interval: 3

# 影响 Bedrock 玩家的游戏选项
gameplay:
  # 将发送给 Minecraft: Bedrock Edition 客户端的服务器名称。这在暂停菜单和设置菜单中都可见。
  server-name: Geyser

  # 允许发送假的冷却指示器。否则 Bedrock 玩家看不到冷却，因为他们仍然使用 1.8 战斗机制。
  # 请注意：如果启用冷却，某些用户可能会在冷却序列期间看到一个黑框，如下所示：
  # https://geysermc.org/img/external/cooldown_indicator.png
  # 这可以通过进入 Bedrock 设置中的辅助功能选项卡并将"文本背景不透明度"设置为 0 来禁用
  # 此设置可以设置为 "title", "actionbar" 或 "disabled"
  show-cooldown: title

  # 如果第一次打开命令提示符时给予大量命令，Bedrock 客户端可能会冻结。
  # 禁用此功能将阻止发送命令建议并解决 Bedrock 客户端的冻结问题。
  command-suggestions: true

  # 控制是否向玩家显示坐标。
  show-coordinates: true

  # 是否阻止 Bedrock 玩家执行他们的脚手架式搭桥。
  disable-bedrock-scaffolding: false

  # Bedrock 阻止在下界 Y127 以上建造和显示方块。
  # 此配置选项通过将下界维度 ID 更改为末地 ID 来解决此问题。
  # 这样做的主要缺点是整个下界将具有相同的红色雾效，而不是每个生物群系都有不同的雾效。
  nether-roof-workaround: true

  # 是否向其他 Bedrock Edition 玩家显示 Bedrock Edition 表情。
  emotes-enabled: true

  # 用于标记 Bedrock 玩家库存中不可用插槽的物品。例如，在创造模式中的 2x2 工作台网格，
  # 或大小与通常的 3x9 不同的自定义库存菜单。屏障方块是默认物品。
  # 此配置选项可以设置为任何 Bedrock 物品标识符。如果要将其设置为自定义物品，请确保按以下格式指定物品："geyser_custom:<映射名称>"
  unusable-space-block: minecraft:barrier

  # 是否添加通常不存在于 Bedrock Edition 中的任何物品和方块。
  # 仅当使用不使用"传输数据包"式服务器切换的代理时才需要禁用此功能。
  # 如果禁用，熔炉矿车物品将被映射到漏斗矿车物品。
  # Geyser 的方块、物品和头颅映射系统也将被禁用。
  # 此选项需要重启 Geyser 才能更改其设置。
  enable-custom-content: true

  # 如果有任何资源包，强制客户端加载所有资源包。
  # 如果设置为 false，即使用户不想下载资源包，也允许其连接到服务器。
  force-resource-packs: true

  # 是否自动向所有连接的 Bedrock 玩家提供某些 Geyser 功能所需的资源包。
  # 如果启用，force-resource-packs 将被启用。
  enable-integrated-pack: true

  # 是否将玩家 ping 转发到服务器。虽然启用此功能将使 Bedrock 玩家拥有更准确的
  # ping，但也可能导致玩家更容易超时。
  forward-player-ping: false

  # 允许解锁 Xbox 成就。
  # 如果玩家输入未知命令，他们将收到一条消息，说明作弊已禁用。
  # 否则，命令按预期工作。
  xbox-achievements-enabled: false

  # 每个玩家显示的最大自定义头颅数量。增加此值可能会降低性能较弱的设备上的性能。
  # 值为 0 将禁用所有自定义头颅。
  # 将其设置为 -1 将导致所有自定义头颅无论距离或数量如何都会显示。
  max-visible-custom-skulls: 128

  # 玩家周围显示自定义头颅的方块半径。
  custom-skull-render-distance: 32

# 如果我们没有客户端请求的语言环境，则使用默认语言环境。如果设置为 "system"，将使用系统的语言。
default-locale: zh_cn

# 服务器是否记录玩家 IP 地址。
log-player-ip-addresses: true

# 仅适用于在线模式身份验证类型。
# 存储应在登录后保存其 Java Edition 账户的 Bedrock 玩家用户名列表。
# 这将保存一个可以重复使用以在以后验证玩家的令牌。这不会保存电子邮件或密码，
# 但在添加到此列表并授予他人访问此 Geyser 实例文件的权限时，您仍应谨慎。
# 从该列表中删除名称将在下次 Geyser 启动时删除其缓存的登录信息。
# 令牌将保存到的文件与此配置位于同一文件夹中，名为 "saved-refresh-tokens.json"。
saved-user-logins:
  - ThisExampleUsernameShouldBeLongEnoughToNeverBeAnXboxUsername
  - ThisOtherExampleUsernameShouldAlsoBeLongEnough

# 仅适用于在线模式身份验证类型。
# 指定在用户授权 Geyser 访问其 Microsoft 账户时等待多少秒。
# 允许用户在此期间断开与服务器的连接。
pending-authentication-timeout: 120

# 当有新的 Geyser 版本支持此 Geyser 版本不支持的 Bedrock 版本时，是否提醒控制台和操作员。
# 建议保持此选项启用，因为许多 Bedrock 平台会自动更新。
notify-on-new-bedrock-update: true

# 高级配置选项。这些通常不需要修改。
advanced:
  # 指定玩家皮肤图像将缓存到磁盘多少天，以节省从互联网下载它们。
  # 值为 0 表示禁用。（默认值：0）
  cache-images: 0

  # Geyser 在每个 Scoreboard 数据包之后更新计分板，但是当 Geyser 尝试
  # 每秒处理大量计分板数据包时，这可能会导致严重的延迟。
  # 此选项允许您指定在每秒多少个计分板数据包之后
  # 计分板更新将限制为每秒四次更新。
  scoreboard-packet-threshold: 20

  # Geyser 是否应在命令建议中发送队伍名称。
  # 如果您有许多不需要作为建议的队伍，请禁用此功能。
  add-team-suggestions: true

  # 要发送给 Bedrock 客户端以下载的远程资源包 URL 列表。
  # Bedrock 客户端对这些资源的交付方式非常挑剔 - 请参阅我们的 Wiki 页面以获取更多信息：https://geysermc.org/wiki/geyser/packs/
  resource-pack-urls: []

  # Floodgate 使用加密来确保来自授权来源的使用。
  # 这应指向由 Floodgate (BungeeCord, Spigot 或 Velocity) 生成的公钥
  # 当不使用 Floodgate 时，您可以忽略此项。
  # 如果您在同一服务器上使用 Floodgate 的插件版本，密钥将自动从 Floodgate 中获取。
  floodgate-key-file: key.pem

  # Geyser 到 Java 服务器连接的高级网络选项
  java:
    # 连接到 Java 服务器时是否启用 HAPROXY 协议。
    # 这仅在以下情况下有用：
    # 1) 您的 Java 服务器支持 HAPROXY 协议（可能不支持）
    # 2) 您在代理的主配置中启用了 Velocity 或 BungeeCord 的选项。
    # 如果您不知道这是什么，请不要动它！
    use-haproxy-protocol: false

    # 是否直接连接到 Java 服务器而不创建 TCP 连接。
    # 仅当与数据包或网络交互的插件无法与 Geyser 正常工作时，才应禁用此功能。
    # 如果启用，则忽略远程地址和端口部分。
    # 如果禁用，预计性能会下降和延迟增加。
    use-direct-connection: true

    # Geyser 是否应尝试为 Bedrock 玩家禁用数据包压缩（从 Java 服务器到 Geyser）。
    # 当 Java 数据包不需要通过网络处理时，这应该是一个好处。
    # 这需要 use-direct-connection 为 true。
    disable-compression: true

  # Geyser 的 Bedrock 监听器的高级网络选项
  bedrock:
    # 向 Bedrock 客户端广播他们应用于连接服务器的 MOTD 的端口。
    # 值为 0 将广播上面指定的端口。
    # 除非 Geyser 运行的端口与用于连接的端口不同，否则不要更改此设置。
    broadcast-port: 0

    # 压缩到 Bedrock 客户端的网络流量的程度。数字越高，使用的 CPU 使用率越高，但
    # 使用的带宽越小。低于 -1 或高于 9 没有任何影响。设置为 -1 以禁用。
    compression-level: 6

    # 对于连接的 Bedrock 客户端，是否期望 HAPROXY 协议。
    # 这仅在您在 Geyser 实例前面运行 UDP 反向代理时有用。
    # 如果您不知道这是什么，请不要动它！
    use-haproxy-protocol: false

    # 允许的 HAPROXY 协议 speaking 代理 IP 地址/子网列表。仅在 "use-proxy-protocol" 启用时有效，并且
    # 应该仅在您无法使用适当的防火墙时使用（通常在共享托管提供商等情况下为真）。
    # 保持此列表为空意味着没有 IP 地址白名单。
    # 支持 IP 地址、子网和指向纯文本文件的链接。
    haproxy-protocol-whitelisted-ips: []

    # 互联网支持的最大 MTU 为 1492，但可能导致数据包碎片问题。
    # 1400 是默认值。
    mtu: 1400

    # 此选项禁用 Geyser 为连接的 Bedrock 玩家执行的身份验证步骤。
    # 它可用于允许来自 ProxyPass 和 WaterdogPE 的连接。在这些情况下，请确保用户
    # 不能直接连接到此 Geyser 实例。有关帮助，请参阅 https://www.spigotmc.org/wiki/firewall-guide/ -
    # 并使用 UDP 而不是 TCP。
    # 对其他用例禁用 Bedrock 身份验证不受支持，因为它允许任何人伪造用户名，因此存在安全风险。
    # 所有 Floodgate 功能（包括皮肤上传和账户链接）在此选项禁用时也将无法工作。
    validate-bedrock-login: true

# 是否通过控制台发送调试消息
debug-mode: false

# 请勿更改！
config-version: 5